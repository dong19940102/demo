<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			body{
				height: 100%;
				background: -webkit-linear-gradient(top,#FFF,#cb1919);
			}
			.center{
				position: absolute;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				margin: auto;
			}
			.box{
				width: 980px;
				height: 500px;
				transform-style:preserve-3d;
				perspective: 3000px;
				
			}
			
			.pic{height: 500px;position: absolute;top: 0;}
		</style>
	</head>
	<script src="js/jquery-3.1.0.min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(function(){
			var Box=$(".box")
			for(var i=0;i<4;i++){
			
				$("<div class='item'></div>")
				.appendTo(Box)
			}
			
		var count=5;
		var w=Box.width()/count;
		$(".item").each(function(index){
			var deg=index*90
			for(var i=0;i<count;i++){
				var x=i*w;
				
				$("<div class='pic'></div>")
				.width(w)
				.css({
					"left":x+"px",
					"background-image":"url(img/"+index+".jpg)",
					"background-position":-x+"px 0px",
					"transform":"rotateX("+deg+"deg) translateZ(250px)"
				})
				.appendTo(this)
			}		
		});
		 var num=0;
		 $("body").click(function(){
		 	num++;
		 	$(".item").each(function(index){
		 		var deg=(index*90)-(num*90);
		 		$(this).find(".pic").each(function(i){
		 			var  delay=i*0.2;
		 			$(this).css({
		 				"transition":"transform 0.5s "+delay+"s",
		 				"transform":"rotateX("+deg+"deg) translateZ(250px)" 
		 			})
		 		})
		 	})
		 })
			
		})
	</script>
	<body>
		<div class="box center"></div>
	</body>
</html>
